{"version":3,"file":"nav-menu-setting.min.js","sources":["../src/nav-menu-setting.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * AMD module\n *\n * @copyright  2024 https://santoshmagar.com.np/\n * @author     santoshtmp7\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n *\n */\nimport $ from 'jquery';\nimport menu_drag from 'local_easycustmenu/easy-menu-drag';\n\n\nexport const init = (menu_item, menu_type = 'navmenu') => {\n    //\n    menu_drag.easy_menu_drag(menu_type);\n\n    /**\n     * Add menu\n     */\n    $('.btn-add-menu').on('click', function (e) {\n        e.preventDefault();\n        let total_menu = $('.menu .menu-item-wrapper ').length + 1;\n        menu_item = menu_item.replaceAll('menu-id', 'menu-' + total_menu);\n        $('.menu-wrapper .menu').append(menu_item);\n    });\n\n    /**\n     * Remove menu\n     */\n    $(document).on('click', '.btn-remove', function (e) {\n        e.stopPropagation();\n        e.preventDefault();\n        let sort_id = $(this).attr(\"data-id\");\n        $('#' + sort_id).remove();\n    });\n\n\n    // hide - show condition field\n    $(document).on('click', '.btn-add-condition', function (e) {\n        e.stopPropagation();\n        e.preventDefault();\n        let sort_id = $(this).attr(\"data-id\");\n        if ($(this).hasClass('active')) {\n            $(this).removeClass('active');\n        } else {\n            $(this).addClass('active');\n        }\n        $('#' + sort_id + ' > .menu-item  .condition-fields').toggle();\n    });\n\n\n    /**\n     * Change input checkbox target_blank value\n     */\n    $(document).on('change', '.target_blank_no,.target_blank_yes', function () {\n        let sort_id = $(this).parent().attr(\"data-id\");\n        if ($(this).val() == \"0\") {\n            document.getElementById('target_yes_' + sort_id).checked = false;\n        }\n        if ($(this).val() == \"1\") {\n            document.getElementById('target_no_' + sort_id).checked = false;\n        }\n    });\n\n};"],"names":["menu_item","menu_type","easy_menu_drag","on","e","preventDefault","total_menu","length","replaceAll","append","document","stopPropagation","sort_id","this","attr","remove","hasClass","removeClass","addClass","toggle","parent","val","getElementById","checked"],"mappings":";;;;;;;;4LA2BoB,SAACA,eAAWC,iEAAY,gCAE9BC,eAAeD,+BAKvB,iBAAiBE,GAAG,SAAS,SAAUC,GACrCA,EAAEC,qBACEC,YAAa,mBAAE,6BAA6BC,OAAS,EACzDP,UAAYA,UAAUQ,WAAW,UAAW,QAAUF,gCACpD,uBAAuBG,OAAOT,kCAMlCU,UAAUP,GAAG,QAAS,eAAe,SAAUC,GAC7CA,EAAEO,kBACFP,EAAEC,qBACEO,SAAU,mBAAEC,MAAMC,KAAK,+BACzB,IAAMF,SAASG,gCAKnBL,UAAUP,GAAG,QAAS,sBAAsB,SAAUC,GACpDA,EAAEO,kBACFP,EAAEC,qBACEO,SAAU,mBAAEC,MAAMC,KAAK,YACvB,mBAAED,MAAMG,SAAS,8BACfH,MAAMI,YAAY,8BAElBJ,MAAMK,SAAS,8BAEnB,IAAMN,QAAU,oCAAoCO,gCAOxDT,UAAUP,GAAG,SAAU,sCAAsC,eACvDS,SAAU,mBAAEC,MAAMO,SAASN,KAAK,WACf,MAAjB,mBAAED,MAAMQ,QACRX,SAASY,eAAe,cAAgBV,SAASW,SAAU,GAE1C,MAAjB,mBAAEV,MAAMQ,QACRX,SAASY,eAAe,aAAeV,SAASW,SAAU"}