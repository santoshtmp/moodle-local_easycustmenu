/**
 * AMD module
 *
 * @module     local_easycustmenu/easy-menu-drag
 * @copyright  2024 https://santoshmagar.com.np/
 * @author     santoshtmp7 https://github.com/santoshtmp/moodle-local_easycustmenu
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 *
 */
define("local_easycustmenu/easy-menu-drag",["jquery","core/sortable_list"],(function($,SortableList){return{easy_menu_drag:function(menu_type){return function(menu_type){new SortableList(".menu-draggable-list"),"navmenu"==menu_type&&$(".menu-draggable-list > *").on(SortableList.EVENTS.DROP,(function(evt,info){let element=info.element,input_itemdepth=element.find('input[name="itemdepth[]"]'),itemdepth=parseInt(element.attr("itemdepth")),end_x=info.endX,start_x=info.startX,prev_element=element.prev(),prev_element_itemdepth=1;prev_element&&(prev_element_itemdepth=parseInt(prev_element.attr("itemdepth")));let menu_item=element.find(".menu-item");if(end_x>start_x&&end_x>start_x+25){let new_itemdepth=itemdepth+1;if(new_itemdepth<=prev_element_itemdepth+1){element.attr("itemdepth",new_itemdepth),input_itemdepth.attr("value",new_itemdepth);let pix=24*new_itemdepth;menu_item.css({"padding-left":pix+"px"})}}if(end_x<start_x&&end_x<start_x-25){let new_itemdepth=1;itemdepth>1&&(new_itemdepth=itemdepth-1),element.attr("itemdepth",new_itemdepth),input_itemdepth.attr("value",new_itemdepth);let pix=24*new_itemdepth;menu_item.css({"padding-left":pix+"px"})}}))}(menu_type)}}}));

//# sourceMappingURL=easy-menu-drag.min.js.map