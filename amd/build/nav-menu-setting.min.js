define("local_easycustmenu/nav-menu-setting",["exports","jquery","core/ajax","core/templates","local_easycustmenu/easy-menu-drag"],(function(_exports,_jquery,_ajax,_templates,_easyMenuDrag){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * AMD module
   *
   * @copyright  2024 https://santoshmagar.com.np/
   * @author     santoshtmp7 https://github.com/santoshtmp/moodle-local_easycustmenu
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   *
   */function ajax_get_menu_item_context(menu_item_num,itemdepth,menu_type,callback){let request={methodname:"get_menu_item_context",args:{menu_item_num:parseInt(menu_item_num),itemdepth:parseInt(itemdepth),menu_type:menu_type}},ajax=_ajax.default.call([request])[0];ajax.done((function(response){response.status||window.console.log("something is wrong..."),callback&&callback(response)})),ajax.fail((function(){window.console.log("request failed.")}))}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_jquery=_interopRequireDefault(_jquery),_ajax=_interopRequireDefault(_ajax),_templates=_interopRequireDefault(_templates),_easyMenuDrag=_interopRequireDefault(_easyMenuDrag);_exports.init=function(){let menu_type=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"navmenu";_easyMenuDrag.default.easy_menu_drag(menu_type),(0,_jquery.default)(".btn-add-menu").on("click",(function(e){e.preventDefault();var menu_id=(0,_jquery.default)(".menu .menu-item-wrapper:last-child ").attr("id");ajax_get_menu_item_context(menu_id=menu_id?parseInt(menu_id.split("-")[1])+1:1,1,menu_type,(function(response){response.status&&_templates.default.render(response.template_name,response.template_context).then((function(html){(0,_jquery.default)(".menu-wrapper .menu").append(html),_easyMenuDrag.default.easy_menu_drag(menu_type)}))}))})),(0,_jquery.default)(document).on("click",".btn-remove",(function(e){e.stopPropagation(),e.preventDefault();let menu_id=(0,_jquery.default)(this).attr("data-id");(0,_jquery.default)("#"+menu_id).remove()})),(0,_jquery.default)(document).on("click",".btn-add-condition",(function(e){e.stopPropagation(),e.preventDefault();let menu_id=(0,_jquery.default)(this).attr("data-id");(0,_jquery.default)(this).hasClass("active")?(0,_jquery.default)(this).removeClass("active"):(0,_jquery.default)(this).addClass("active"),(0,_jquery.default)("#"+menu_id+"  .condition-fields").toggle()})),(0,_jquery.default)(document).on("change",".target_blank_no,.target_blank_yes",(function(){let menu_id=(0,_jquery.default)(this).parent().attr("data-id");"0"==(0,_jquery.default)(this).val()&&(document.getElementById("target_yes_"+menu_id).checked=!1),"1"==(0,_jquery.default)(this).val()&&(document.getElementById("target_no_"+menu_id).checked=!1)}))}}));

//# sourceMappingURL=nav-menu-setting.min.js.map