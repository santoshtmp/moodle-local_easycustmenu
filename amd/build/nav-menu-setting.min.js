define("local_easycustmenu/nav-menu-setting",["exports","jquery"],(function(_exports,_jquery){var obj;
/**
   * AMD module
   *
   * @copyright  2024 https://santoshmagar.com.np/
   * @author     santoshtmp7
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   *
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_jquery=(obj=_jquery)&&obj.__esModule?obj:{default:obj};_exports.init=menu_item=>{document.querySelectorAll(".menu .menu-item-wrapper").forEach((element=>{let element_id=element.getAttribute("id");document.querySelectorAll(".menu #"+element_id+" .sub-menu-item-wrapper > .menu-item-child").forEach((child=>{child.classList.add("sub-menu");let child_id=child.getAttribute("id");document.querySelector(".menu #"+child_id+" > .menu-item .btn-add-sub-menu")&&document.querySelector(".menu #"+child_id+" > .menu-item .btn-add-sub-menu").setAttribute("title","Add sub menu child "),document.querySelector(".menu #"+child_id+" > .menu-item .btn-up-arrow").setAttribute("title","Move sub menu up "),document.querySelector(".menu #"+child_id+" > .menu-item .btn-down-arrow").setAttribute("title","Move sub menu down "),document.querySelectorAll(".menu #"+child_id+" .sub-menu-item-child-wrapper > .menu-item-child").forEach((e=>{e.classList.add("sub-menu-child");let child_id=e.getAttribute("id");document.querySelector(".menu #"+child_id+" > .menu-item .btn-up-arrow").setAttribute("title","Move sub menu child up "),document.querySelector(".menu #"+child_id+" > .menu-item .btn-down-arrow").setAttribute("title","Move sub menu child down ")}))}))})),(0,_jquery.default)(".btn-add-menu").on("click",(function(e){e.preventDefault();let total_menu=(0,_jquery.default)(".menu .menu-item-wrapper ").length+1;menu_item=(menu_item=menu_item.replaceAll("null-id","menu-"+total_menu)).replaceAll("null-depth","1"),(0,_jquery.default)(".menu-wrapper .menu").append(menu_item)})),(0,_jquery.default)(document).on("click",".btn-add-sub-menu",(function(e){e.preventDefault();let sort_id=(0,_jquery.default)(this).attr("data-id"),depth=parseInt((0,_jquery.default)("#"+sort_id).attr("itemdepth"))+1;var class_name="menu-item-child",add_menu_location_class="",item_child_count=0;2===depth&&(class_name+=" sub-menu",add_menu_location_class=" .sub-menu-item-wrapper",item_child_count=(0,_jquery.default)("#"+sort_id+add_menu_location_class+" > .menu-item-child ").length+1,menu_item=(menu_item=(menu_item=(menu_item=menu_item.replaceAll("sub-menu-item-wrapper","sub-menu-item-child-wrapper")).replaceAll("Add sub menu","Add sub menu child")).replaceAll("Move menu down","Move sub menu down")).replaceAll("Move menu upward","Move sub menu upward")),3===depth&&(class_name+=" sub-menu-child",add_menu_location_class=" .sub-menu-item-child-wrapper",item_child_count=(0,_jquery.default)("#"+sort_id+add_menu_location_class+" > .menu-item-child ").length+1,menu_item=(menu_item=(menu_item=menu_item.replaceAll("sub-menu-item-wrapper","no-child-item")).replaceAll("Move menu down","Move sub menu child down")).replaceAll("Move menu upward","Move sub menu child upward")),menu_item=(menu_item=(menu_item=menu_item.replaceAll("null-id",sort_id+"-"+item_child_count)).replaceAll("null-depth",depth)).replaceAll("menu-item-wrapper",class_name),add_menu_location_class&&(0,_jquery.default)("#"+sort_id+add_menu_location_class).append(menu_item)})),(0,_jquery.default)(document).on("click",".btn-remove",(function(e){e.stopPropagation(),e.preventDefault();let sort_id=(0,_jquery.default)(this).attr("data-id");(0,_jquery.default)("#"+sort_id).remove()})),(0,_jquery.default)(document).on("click",".btn-add-condition",(function(e){e.stopPropagation(),e.preventDefault();let sort_id=(0,_jquery.default)(this).attr("data-id");(0,_jquery.default)(this).hasClass("active")?(0,_jquery.default)(this).removeClass("active"):(0,_jquery.default)(this).addClass("active"),(0,_jquery.default)("#"+sort_id+" > .menu-item  .condition-fields").toggle()})),(0,_jquery.default)(document).on("change",".target_blank_no,.target_blank_yes",(function(){let sort_id=(0,_jquery.default)(this).parent().attr("data-id");"0"==(0,_jquery.default)(this).val()&&(document.getElementById("target_yes_"+sort_id).checked=!1),"1"==(0,_jquery.default)(this).val()&&(document.getElementById("target_no_"+sort_id).checked=!1)})),(0,_jquery.default)(document).on("click",".btn-down-arrow, .btn-up-arrow",(function(e){e.stopPropagation(),e.preventDefault();var current_id=(0,_jquery.default)(this).attr("data-id"),current_id_split=current_id.split("-"),new_id="";if(current_id_split.length-1>0)for(let i=0;i<current_id_split.length-1;i++)new_id=new_id+current_id_split[i]+"-";(0,_jquery.default)(this).hasClass("btn-down-arrow")&&(new_id+=parseInt(current_id_split[current_id_split.length-1])+1),(0,_jquery.default)(this).hasClass("btn-up-arrow")&&(new_id+=parseInt(current_id_split[current_id_split.length-1])-1);let current_label=(0,_jquery.default)("#"+current_id+" .input-label").val(),current_link=(0,_jquery.default)("#"+current_id+" .input-link").val(),current_target_blank_no=(0,_jquery.default)("#"+current_id+" .target_blank_no").prop("checked"),current_target_blank_yes=(0,_jquery.default)("#"+current_id+" .target_blank_yes").prop("checked"),current_language=(0,_jquery.default)("#"+current_id+" .input-language").val(),current_user_role=(0,_jquery.default)("#"+current_id+" .user_role").val(),new_label=(0,_jquery.default)("#"+new_id+" .input-label").val(),new_link=(0,_jquery.default)("#"+new_id+" .input-link").val(),new_target_blank_no=(0,_jquery.default)("#"+new_id+" .target_blank_no").prop("checked"),new_target_blank_yes=(0,_jquery.default)("#"+new_id+" .target_blank_yes").prop("checked"),new_language=(0,_jquery.default)("#"+new_id+" .input-language").val(),new_user_role=(0,_jquery.default)("#"+new_id+" .user_role").val();(0,_jquery.default)("#"+new_id+" .input-label").val(current_label),(0,_jquery.default)("#"+new_id+" .input-link").val(current_link),(0,_jquery.default)("#"+new_id+" .target_blank_no").prop("checked",current_target_blank_no),(0,_jquery.default)("#"+new_id+" .target_blank_yes").prop("checked",current_target_blank_yes),(0,_jquery.default)("#"+new_id+" .input-language").val(current_language),(0,_jquery.default)("#"+new_id+" .user_role").val(current_user_role),(0,_jquery.default)("#"+current_id+" .input-label").val(new_label),(0,_jquery.default)("#"+current_id+" .input-link").val(new_link),(0,_jquery.default)("#"+current_id+" .target_blank_no").prop("checked",new_target_blank_no),(0,_jquery.default)("#"+current_id+" .target_blank_yes").prop("checked",new_target_blank_yes),(0,_jquery.default)("#"+current_id+" .input-language").val(new_language),(0,_jquery.default)("#"+current_id+" .user_role").val(new_user_role)}))}}));

//# sourceMappingURL=nav-menu-setting.min.js.map